(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{10:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(8);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,i(e).apply(this,arguments))}var n,a,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["a"]),n=e,u=[{key:"init",value:function(){return new this("users")}}],(a=[{key:"status",value:function(t){return this.http.put("".concat(this.resource,"/status/").concat(this.getId(t)),t).then(this.constructor.then)}}])&&o(n.prototype,a),u&&o(n,u),e}()},114:function(t,e,n){"use strict";n.r(e);var r=n(15),a=n(10),o=n(3),s=a.a.init(),i={name:"Index",components:{Pagination:r.a,Alert:o.a},data:function(){return{users:{data:[],meta:{total:0,per_page:10,from:1,to:0,current_page:1}}}},methods:{getUsers:function(){var t=this;s.index("?page=".concat(this.users.meta.current_page)).then(function(e){var n=e.data,r=e.meta;t.users.data=n,t.users.meta=r})},handleDestroy:function(t){var e=this;confirm("Deseja remover esse usuário?")&&s.destroy(t).then(function(){e.data=[],e.getUsers()})},handleStatus:function(t,e){var n=this;confirm("Deseja mudar o status desse usuário?")&&s.status({id:t,status:e?"0":"1"}).then(function(){n.users.data=[],n.getUsers()})},getLiteralType:function(t){return 2===t?"PF":3===t?"PJ":"Admin"}},created:function(){this.getUsers()}},c=n(0),u=Object(c.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"col-12"},[n("Alert"),t._v(" "),n("p",[n("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:"/admin/users/create"}},[t._v("Criar")])],1),t._v(" "),n("table",{staticClass:"col-12 table table-hover"},[t._m(0),t._v(" "),n("tbody",t._l(t.users.data,function(e){return n("tr",[n("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.email))]),t._v(" "),n("td",[t._v(t._s(t.getLiteralType(e.type)))]),t._v(" "),n("td",[t._v(t._s(t.getLiteralStatus(e.status)))]),t._v(" "),n("td",[n("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                        Ações\n                    ")]),t._v(" "),n("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[n("router-link",{staticClass:"dropdown-item",attrs:{to:{path:"/admin/users/"+e.id}}},[t._v("Editar")]),t._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(n){return n.stopPropagation(),t.handleDestroy(e.id)}}},[t._v("Remover")]),t._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(n){return n.stopPropagation(),t.handleStatus(e.id,e.status)}}},[t._v(t._s(e.status?"Desativar":"Ativar"))])],1)])])}),0)]),t._v(" "),n("Pagination",{attrs:{pagination:t.users.meta},on:{paginate:function(e){return t.getUsers()}}})],1)])},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),n("th",{attrs:{scope:"col"}},[t._v("Nome")]),t._v(" "),n("th",{attrs:{scope:"col"}},[t._v("Email")]),t._v(" "),n("th",{attrs:{scope:"col"}},[t._v("Tipo")]),t._v(" "),n("th",{attrs:{scope:"col"}},[t._v("Status")]),t._v(" "),n("th",{attrs:{scope:"col"}})])])}],!1,null,"083877c5",null);e.default=u.exports},15:function(t,e,n){"use strict";var r={name:"Pagination",props:{pagination:{type:Object,required:!0},offset:{type:Number,default:4}},computed:{pagesNumber:function(){if(!this.pagination.to)return[];var t=this.pagination.current_page-this.offset;t<1&&(t=1);var e=t+2*this.offset;e>=this.pagination.last_page&&(e=this.pagination.last_page);for(var n=[],r=t;r<=e;r++)n.push(r);return n}},methods:{changePage:function(t){this.pagination.current_page=t,this.$emit("paginate")}}},a=n(0),o=Object(a.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{attrs:{"aria-label":"Page navigation example"}},[n("ul",{staticClass:"pagination"},[n("li",{staticClass:"page-item",class:1===t.pagination.current_page?"disabled":""},[n("a",{staticClass:"page-link",attrs:{href:"javascript:void(0)","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.pagesNumber,function(e){return n("li",{staticClass:"page-item",class:{active:e==t.pagination.current_page}},[n("a",{staticClass:"page-link",attrs:{href:"javascript:void(0)"},on:{click:function(n){return n.preventDefault(),t.changePage(e)}}},[t._v(t._s(e))])])}),t._v(" "),n("li",{staticClass:"page-item",class:t.pagination.current_page===t.pagination.last_page?"disabled":""},[n("a",{staticClass:"page-link",attrs:{href:"javascript:void(0)","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},[],!1,null,"29d85d1b",null);e.a=o.exports},3:function(t,e,n){"use strict";var r=n(9);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o={name:"Message",props:{message:{type:[String,Object]}},render:function(t){var e=this;return"object"===a(this.message)?t("ul",Object.keys(this.message).map(function(n){return e.message[n].map(function(e){return t("li",e)})})):t("div",this.message)}},s=n(0);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={name:"Alert",components:{Message:Object(s.a)(o,void 0,void 0,!1,null,"3f59c554",null).exports},methods:i({},Object(r.b)(["setAlert","clearAlert"])),computed:i({},Object(r.c)({type:function(t){return t.alert.type},show:function(t){return t.alert.show},message:function(t){return t.alert.message}}))},l=Object(s.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return this.show?n("div",{class:"alert alert-dismissible alert-"+this.type,attrs:{role:"alert"}},[n("Message",{attrs:{message:this.message}}),t._v(" "),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){return t.clearAlert()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])],1):t._e()},[],!1,null,"b68b6744",null);e.a=l.exports},8:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(4),a=n.n(r);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"resource",""),i(this,"id","id"),!e)throw new Error("The child service class did not provide the resource.");this.resource=e,this.http=a.a.axios}var e,n,r;return e=t,r=[{key:"then",value:function(t){return t.data?"string"==typeof t.data?JSON.parse(t.data):t.data:{}}}],(n=[{key:"index",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.http.get("".concat(this.resource).concat(t)).then(this.constructor.then)}},{key:"store",value:function(t){return this.http.post("".concat(this.resource),t).then(this.constructor.then)}},{key:"show",value:function(t){return this.http.get("".concat(this.resource,"/").concat(this.getId(t))).then(this.constructor.then)}},{key:"update",value:function(t){return this.http.put("".concat(this.resource,"/").concat(this.getId(t)),t).then(this.constructor.then)}},{key:"destroy",value:function(t){return this.http.delete("".concat(this.resource,"/").concat(this.getId(t))).then(this.constructor.then)}},{key:"getId",value:function(t){return"object"===o(t)?t[this.id]:String(t)}}])&&s(e.prototype,n),r&&s(e,r),t}()}}]);